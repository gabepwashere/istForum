<!--
IST 420 Team Final Project
Spring Semester of 2016
Professor: Joe Oakes 
Row 2:
	Team Leader: Gabriel Piuleac
	Assistant Team Leader Joey Lee
	David Austin
	Tim McCorry

-->

<!DOCTYPE html>
<!-----Background color should be RGB: 12, 16, 27----->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>IST Forum</title>
	<!-----------------------------JQUERY AREA----------------------->
	<!--CDN Content Delivery Network-->
	 <!--Load the jquery minified version: no comments, no whitespace, streamed-->
    <script src="jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.14/angular.min.js"></script>    
    <script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-3.0.0.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="js/bootstrap.min.js"></script>
    <!--<script src="scripts/jquery.min.js"></script>-->
    <!--Get Locally from our Server-->
    <!--<script src="scripts/jquery.js"></script>-->
	
	<!-----------------------------JSON DATA AREA----------------------->
    <script>
        /*
        var users = [
            {"userID": 1,"userName": "Gabe","joinDate": "3/29/16"},
            {"userID": 2,"userName": "Tim", "joinDate": "3/29/16" },
            {"userID": 3,"userName": "David", "joinDate": "3/29/16" },
            {"userID": 4,"userName": "Joey", "joinDate": "3/29/16" },
        ];
        */
    </script>
    
    <!-----------------------------META DATA AREA----------------------->
    <meta charset="utf-8" />
    <meta name="description" content="IST Forum">
    <meta name="keywords" content="Penn, State, Abington, IST, 420">
    <meta name="author" content="Row 2">
	
	<!-----------------------------CSS STYLE RULES AREA------------------>

    <meta name="viewport" content="width=device-width, initial-scale=1">
     <!--This is an internal/embedded style sheet rule -->
    <style type="text/css">
        /*HTML Style Rule*/
		h1 {
            color: #181830 !important;
            font-family: Calibri;
            text-align: center;
            width: 1024px; 	
            position: relative;
            /*text-align: center;*/
        }
		nav {
		
		height: 40px;
		font-size: x-large;
		font-family:  Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;
		text-align: center;
		background-color: #181830;   /*changed the color to blue, just like our school's main color */
		}
		/*Unordered list in the nav area*/
		nav ul {
			height: auto;
			padding: 8px 0px;
			margin: 0px;
		}
		/*List item in the nav area*/
		nav li { 
			display: inline; /*position text horizontally*/
			padding: 20px; 
		}
		/*Anchor in the nav area*/
		nav a {
			text-decoration: none;  /*removes underline*/
			color: white;    /* Red Green Blue Channels*/
			padding: 8px;
			/*padding: 8px 8px;
			padding: 8px 8px 8px 8px;*/
		}
		/*Anchor in the nav area when the Mouse Hovers over the area*/
		nav a:hover {
			color: #19437F; /*changes color to Logo Blue when hovered on*/
		}
		footer li {
			display: inline; /*position text horizontally*/
			padding: 20px; 
		}
		footer a {
			text-decoration: none; /*removes underline*/
		}
    .auto-style1 {
		margin-left: 50px;
		margin-right: 50px;
	}
    </style>
</head>
<body>
     <!-----------------------------HEADER AREA----------------------->
    <header>
    
    <!--Logo-->
     	<div
     	style="
     	float:left;
     	width:80px;
     	height:80px">
			<img src="psulogo.jpg" alt="PSU IST Logo" width="100px" height="79px">
		</div>
	<!--Header-->	
		<nav class="navbar-fixed"
			  style="
				background-color:#181830;
				text-align: center; 
				font-size: 200%;
				font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif; 
				color: white;"> 
			IST 420 Forum
		</nav>
	<!-----------------------------NAVIGATION DIV----------------------->
	
        <nav class="Page-Selector navbar-fixed">
            <div>
                <ul>
                    <li><a href="#home" id="navHome" class="links" rel="home">Home</a></li>
                    <li><a href="#forum" id="navForum" class="links" rel="forum">Forum</a></li>
                    <li><a href="#register" id="navRegister" class="links" rel="register">Register</a></li>
                    <li><a href="#about" id="navAbout" class="links" rel="about">About</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <!---------------------------- Sidebar Who's Online------------------------------->
    <aside id="whoisonline"
           style="line-height:30px;
                color: white;
            	background-color:#181830;
            	height:1000px;
            	width:150px;
            	float:left;
            	padding:5px;
            	font-family: Calibri;">
            <h3 style="font-family: Impact;">Online Users</h3>
    </aside>
        <!-----------------------------HOME AREA----------------------------->
        <div class = "container text-center" id="home" style="display:block">
            <h1>Home</h1>
            <section class="margin-left:165px"></section>
            <!--<article>self-contained composition (syndication) in a doc</article>-->
            <div id="lastactivity"
                 style="
                 width: 800px;
                 float:left;
                 font-size:large;
                 font-family: Calibri;">
            Hello! Welcome to the Penn State Abington IST Forums brought to you by IST 420 Row 2.
                <img src="team.jpg" alt="Row2 Team Photo" width="500px" height="375px" position="relative" class="auto-style1"  > 
		    </div>
        </div>
        <!-----------------------------FORUM AREA----------------------------->
        <div class= "container" id="forum" 
        style="display:none">
        <h1>Forum</h1>
            <div id="istforums" 
            	style="
            	border-style: solid; 
            	border-color:black; 
            	padding: 10px 10px 10px 10px; 
            	margin-left: 165px; 
            	width: 835px;
            	font-family: Calibri;">
				<p><a href="#GeneralDiscussionArea" id="GeneralDiscussion2" class="links" rel="generaldiscussion">General Discussion</a></p>
            	<br>
				<p><a href="#CodingArea" id="Coding2" class="links" rel="codingarea">Coding</a></p>
				<br>	
				<p><a href="#NetworkingArea" id="Networking2" class="links" rel="networking">Networking</a></p>
				<br>

            </div>
        </div>
        <!-----------------------------General Discussion Area----------------------------->
        <div class= "container" id="GeneralDiscussionArea" 
        style="display:none">
            <h1>General Discussion Sub-Forum</h1>
              <div id="GeneralDiscussion" 
            	style="
            	border-style: solid; 
            	border-color:black; 
            	padding: 10px 10px 10px 10px; 
            	margin-left: 165px; 
            	width: 835px;
            	font-family: Calibri;">
            	<div style="float:left; font-size: large;"></div>
            	<br>
            	<ul>
                <a href="#FirstPostBestPostLink" id="FirstPostBestPost" class="links" rel="firstpostbestpost">First Post Best Post</a>
                <ul>
                    By User: ScaredFreshman
                </ul>
            </ul>
            <br>

            </div>


            <!--<article>self-contained composition (syndication) in a doc</article>-->
        </div>

		<!----------------------------First Post Best Post Area----------------------------->
		<div id="FirstPostBestPostLink" 
        style="display:none">
		<h1>First Post Best Post</h1>
              <div id="FirstPostBestPost" 
            	style="
            	border-style: solid; 
            	border-color:black; 
            	padding: 10px 10px 10px 10px; 
            	margin-left: 165px; 
            	width: 835px;
            	font-family: Calibri;
                height: 750px ">

            	<div style="float:left; font-size: large;"></div>

                </div>
        </div>
        <!-----------------------------Coding Area----------------------------------------->
        <div class= "container" id="CodingArea" 
        style="display:none">
            <h1>Coding Sub-Forum</h1>
            <div 
            	style="
            	border-style: solid; 
            	border-color:black; 
            	padding: 10px 10px 10px 10px; 
            	margin-left: 165px; 
            	width: 835px;
            	font-family: Calibri;">
            	<div style="float:left; font-size: large;"></div>
            	<br>
            	<p>
            	Post1
            	</p>
            	<p>
            	Post2
            	</p>
            	<p>
            	Post3
            	</p>
            	<p>
            	Post4
            	</p>
            	<p>
            	Post5
            	</p>
            	<br>	
            </div>
		</div>
        <!-----------------------------Networking Area------------------------------------->
        <div class="container" id="NetworkingArea" 
        style="display:none">
            <h1>Networking Sub-Forum</h1>
            <div 
            	style="
            	border-style: solid; 
            	border-color:black; 
            	padding: 10px 10px 10px 10px; 
            	margin-left: 165px; 
            	width: 835px;
            	font-family: Calibri;">
            	<div style="float:left; font-size: large;"></div>
            	<br>
            	<p>
            	Post1
            	</p>
            	<p>
            	Post2
            	</p>
            	<p>
            	Post3
            	</p>
            	<p>
            	Post4
            	</p>
            	<p>
            	Post5
            	</p>
            	<br>

            </div>


            <!--<article>self-contained composition (syndication) in a doc</article>-->
        </div>
        <!-----------------------------REGISTER AREA---------------------------->
        <div class= "container text-center" id="register" style="display:none">

            <div style="width:500px; margin:10px; border-style: solid; 
            	border-color:black; padding:10px 10px 10px 10px">

                <form data-bind="submit: register">
                    <h3>Register</h3>
                    <p>Username: <input data-bind="value: username" /> </p>
                    <p>Password: <input data-bind="value: password" /> </p>
                    <p><button type="submit">Register</button></p>
                </form>
            </div>

            <div style="width:500px; margin:10px; border-style: solid; 
            	border-color:black; padding:10px 10px 10px 10px">

                <form data-bind="submit: update">
                    <h3>Update</h3>
                    <p>UserID: <input data-bind="value: userID" /> </p>
                    <p>Username: <input data-bind="value: username1" /> </p>
                    <p>Password: <input data-bind="value: password2" /> </p>
                    <p><button type="submit">Update</button></p>
                </form>
            </div>

            <div style ="width:500px; margin:10px; border-style: solid; 
            	border-color:black; padding:10px 10px 10px 10px">

                <form data-bind="submit: read">
                    <h3>Read User</h3>
                    <p>UserID: <input data-bind="value: userID1" /> </p>
                    <p><button type="submit">Read</button></p>
                </form>
            </div>

            <div style="width:500px; margin:10px; border-style: solid; 
            	border-color:black; padding:10px 10px 10px 10px">

                <form data-bind="submit: del ">
                    <h3>Delete</h3>
                    <p>UserID: <input data-bind="value: userID2" /></p>
                    <p><button type="submit">Delete</button></p>
                </form>
            </div>

            <!--<article>self-contained composition (syndication) in a doc</article>-->
        </div>
        <!-----------------------------ABOUT AREA----------------------------->
        <div class="container text-center" id="about" style="display:none">
            <h1>About Us</h1>
            <div 
            style="
            line-height:30px;
            height:500px;
            width:800px;
            float:left;
            padding:5px;
            font-family: Calibri;
            ">
            We are a small group of 4 dedicated IST students in IST 420.
        	We came together to make a IST forum as our Single Page Application.
        	A single page application uses only HTML,CSS, and Javascript to create a website that loads and acts as a dekstop application.
        	I hope you enjoy and have found good use for these forums. 
        	</div>
        
        </div>
        <!-----------------------------General Discussion----------------------------->
        <div class="container" id="generaldiscussion" style="display:none">
            <h1>General Discussion</h1>
        	<p>TEST TEST TEST TEST TEST TEST TEST</p>
        </div>
        <!-----------------------------FOOTER AREA---------------------------->
        <footer><!-- Aligning the footer to the bottom of the page and at center-->
              <!--Forced the footer to follow the rest of the page's width, allowing it to center correctly.-->
              <div style="
              width: 1024px; 	
              position: relative;
              clear: both;
              bottom: 0;
              text-align:center;
              font-family: Calibri;
              "> 
                <ul>
                	<!--Shows who made the website-->
                    <li>IST420 Row 2&copy; 2015</li>
                </ul>
            </div>
        </footer>        
        <!-----------------------------EXAMPLE POST AREA---------------------------->
        <div id="post" style="display:none">
            <h1>Post</h1>
            <section class="margin-left:165px"></section>
            <!--<article>self-contained composition (syndication) in a doc</article>-->
            <div id="lastactivity"
            style="
            	border-style: solid; 
            	border-color:black; 
            	padding: 10px 10px 10px 10px; 
            	margin-left: 165px; 
            	width: 835px;
            	font-family: Calibri;">
            <div style="float:left; font-size:large;">General Discussion</div>
            	
            </div>
        </div>

        
        <!-----------------------------JAVASCRIPT AREA----------------------->
        <script>
            //When the DOM document is loaded in the browser
            $(document).ready(function () {
                //When home link is clicked show home area
                $("#navHome").click(function (event) {
                    $("#home").show();
                    $("#forum, #register,#about,#NetworkingArea,#CodingArea,#GeneralDiscussionArea,#FirstPostBestPostLink").hide();
                });
                //When menu link is clicked show menu area
                $("#navForum").click(function (event) {
                    $("#forum").show();
                    $("#home, #register,#about,#NetworkingArea,#CodingArea,#GeneralDiscussionArea,#FirstPostBestPostLink").hide();
                });
                //When about link is clicked show about area
                $("#navRegister").click(function (event) {
                    $("#register").show();
                    $("#forum, #home,#about,#Coding,#GeneralDiscussionArea,#FirstPostBestPostLink").hide();
                });
                //When terms link is clicked show terms area
                $("#navAbout").click(function (event) {
                    $("#about").show();
                    $("#forum, #register,#home,#NetworkingArea,#CodingArea,#GeneralDiscussionArea,#FirstPostBestPostLink").hide();
                });
                //When General Discussion Area link is clicked show networking area
                $("#GeneralDiscussion,#GeneralDiscussion2").click(function (event) {
                    $("#GeneralDiscussionArea").show();
                    $("#forum, #register,#home,#about,#CodingArea,#NetworkingArea,#FirstPostBestPostLink").hide();
                });
                 //When coding area link is clicked show coding area
                $("#Coding,#Coding2").click(function (event) {
                    $("#CodingArea").show();
                    $("#forum, #register,#home,#NetworkingArea,#GeneralDiscussionArea,#FirstPostBestPostLink").hide();
                });
                //When Networking Area link is clicked show networking area
                $("#Networking,#Networking2").click(function (event) {
                    $("#NetworkingArea").show();
                    $("#forum, #register,#home,#about,#CodingArea,#GeneralDiscussionArea,#FirstPostBestPostLink").hide();
                });
                //When First Post Best Post link is clicked show networking area
                $("#FirstPostBestPost, #FirstPostBestPost2").click(function (event) {
                    $("#FirstPostBestPostLink").show();
                    $("#forum, #register,#home,#about,#CodingArea,#GeneralDiscussionArea, #NetworkingArea").hide();
                });


                var viewModel = {
                    username: ko.observable(), password: ko.observable(),
                    username1: ko.observable(), password2: ko.observable(),
                    userID: ko.observable(), userID1: ko.observable(),
                    userID2: ko.observable(), 

                    register: function (formElement) {
                        //Make sure to change the host and port to match the URL 
                        $.getJSON('http://localhost:55611/Service1.svc/RegisterUser?username=' + viewModel.username() + '&password=' + viewModel.password())
                            .done(function (json) {
                                alert("Done");
                                $.getJSON('http://localhost:55611/Service1.svc/GetAllUsers')
                                .done(function (json) {
                                    $("#whoisonline").html("Online Users");
                                    for (var i in json) {
                                        //Adds Online Users to Sidebar
                                        $("#whoisonline").append("<br>"
                                            + "User: " + json[i].userName
                                            + "<br>");
                                    }
                                })
                            })
                            .fail(function () {
                                alert("Error");
                            });
                    },  //Close the register binding

                    
                    update: function (formElement) {
                    //Make sure to change the host and port to match the URL 
                        $.getJSON('http://localhost:55611/Service1.svc/UpdateUserByUserID?userID=' + viewModel.userID() + '&username=' + viewModel.username1() + '&password=' + viewModel.password2())
                        .done(function (json) {
                            alert("Done");
                            $.getJSON('http://localhost:55611/Service1.svc/GetAllUsers')
                                .done(function (json) {
                                    $("#whoisonline").html("Online Users");
                                    for (var i in json) {
                                        //Adds Online Users to Sidebar
                                        $("#whoisonline").append("<br>"
                                            + "User: " + json[i].userName
                                            + "<br>");
                                    }
                                })
                        })
                        .fail(function () {
                            alert("Error");
                        });
                    },  //Close the update binding

                    read: function (formElement) {
                        //Make sure to change the host and port to match the URL 
                        $.getJSON('http://localhost:55611/Service1.svc/GetUserByUserID?userID=' + viewModel.userID1() )
                            .done(function (json) {
                                alert("User ID: " + viewModel.userID1() + " has a username of " + json.userName + " and a password of "
                                    + json.password);
                                $.getJSON('http://localhost:55611/Service1.svc/GetAllUsers')
                                .done(function (json) {
                                    $("#whoisonline").html("Online Users");
                                    for (var i in json) {
                                        //Adds Online Users to Sidebar
                                        $("#whoisonline").append("<br>"
                                            + "User: " + json[i].userName
                                            + "<br>");
                                    }
                                })
                            })
                            .fail(function () {
                                alert("Error");
                            });
                    },  //Close the update binding

                    del : function (formElement) {
                        //Make sure to change the host and port to match the URL 
                        $.getJSON('http://localhost:55611/Service1.svc/DeleteUserByUserID?userID=' + viewModel.userID2() )
                            .done(function (json) {
                                alert("Done");
                                $.getJSON('http://localhost:55611/Service1.svc/GetAllUsers')
                                .done(function (json) {
                                    $("#whoisonline").html("Online Users");
                                    for (var i in json) {
                                        //Adds Online Users to Sidebar
                                        $("#whoisonline").append( "<br>"
                                            + "User: " + json[i].userName
                                            + "<br>");
                                    }
                                })
                                .fail(function () {
                                    alert("Error");
                                });
                            })
                            .fail(function () {
                                alert("Error");
                            });
                    }  //Close the update binding

                }; //Close the function MyViewModel code block
                ko.applyBindings(viewModel);

                //Load the Online Users with the JSON data
                $.getJSON('http://localhost:55611/Service1.svc/GetAllUsers')
                    .done(function (json) {
                        for (var i in json) {
                            //Adds Online Users to Sidebar
                            $("#whoisonline").append("<br>"
                                + "User: " + json[i].userName
                                + "<br>");
                        }
                    })
                    .fail(function () {
                        alert("Error");
                    });
        });
        </script>
</body>
</html>
